# YAML file to specify a regression testlist
---
# Header
name: cv32_interrupt
description: Directed and random interrupt tests for CV32E40P

# List of builds
builds:
  corev-dv:
    # required: Make the corev-dv infrastructure    
    cmd: make corev-dv
    dir: cv32/sim/uvmt_cv32
  uvmt_cv32:
    # required: the make command to create the build
    cmd: make comp
    dir: cv32/sim/uvmt_cv32
    cov: 1
    iss: 0

# List of tests
tests:
  interrupt_test:
    build: uvmt_cv32
    description: Interrupt directed test
    dir: cv32/sim/uvmt_cv32
    cmd: make interrupt_test
    
  corev_rand_interrupt_test:
    build: uvmt_cv32
    description: Static riscv-dv interrupt test
    dir: cv32/sim/uvmt_cv32
    precmd: make gen_corev_rand_interrupt_test
    cmd: make custom CUSTOM_PROG=corev_rand_interrupt_test_<RUN_INDEX> XRUN_USER_RUN_FLAGS=+gen_irq_noise
    log: corev_rand_interrupt_test_<RUN_INDEX>
    cov: 1
    num: 5
